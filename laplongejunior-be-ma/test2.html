<!DOCTYPE html>
<html>
<head>
<title>Test</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<script>
function _onload() {
	var LENGTH = arguments.length/2;
	for (var i = 0; i < LENGTH; ++i)
	{
		var xhr = new XMLHttpRequest();
		var iframeID = arguments[i*2];
		xhr.addEventListener('readystatechange', function() {
			if (xhr.readyState === XMLHttpRequest.DONE) _countdownReceived(xhr, iframeID);
		});
		xhr.open('GET', '/countdowns/' + arguments[i*2+1] + '.html');	
		xhr.send();
	}
}

function _countdownReceived(xhr, iframeID)
{
	var iframe = document.getElementById(iframeID);
	var innerDoc = (iframe.contentDocument || iframe.contentWindow.document);
	innerDoc.open();
	innerDoc.write(xhr.responseText);
	innerDoc.close();
	
	var element = innerDoc.getElementsByClassName('demo')[0];
	console.log(element);
}
</script>
</head>
<body onload="_onload('countdown1', 1979194)">
<iframe id="countdown1" height=700 width=360 frameborder=0 src=""></iframe>
</body>
</html>
